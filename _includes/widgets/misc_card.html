{% assign misc_by_category = site.misc | group_by: "category" %}
{% assign category_order = site.category_order %}

<div class="my-3 bg-white shadow-sm rounded-sm">
  <h6 class="p-3 mb-0 border-bottom border-gray"><i class="fas fa-tasks"></i> Misc</h6>
  <div class="px-3 pb-1">
    {% for category_name in category_order %}
      {% assign category = misc_by_category | where: "name", category_name | first %}
      {% if category %}
        <div class="my-2">
          <h6 class="border-bottom border-gray">{{ category.name | capitalize }}</h6>
          {% assign sorted_items = category.items | sort: "order" %}
          {% for item in sorted_items %}
            <div class="media py-1 {% if forloop.first == false %}border-top border-gray{% endif %}">
              <div class="media-body">
                <div class="my-1 d-flex">
                  <div>{{ item.title }}</div>
                  <div class="ml-auto mt-auto text-muted no-break"><i>{{ item.date | date: "%Y-%m" }}</i></div>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endfor %}
  </div>
</div>
